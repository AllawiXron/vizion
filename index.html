<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>viZion | Limited Drop</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Orbitron:wght@600;700;900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Config & Styles -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              cairo: ['Cairo', 'sans-serif'],
              orbitron: ['Orbitron', 'sans-serif'],
            },
            colors: {
              brand: {
                black: '#050505',
                dark: '#111111',
                accent: '#00f2ff',
                purple: '#a855f7',
                danger: '#ff0055',
                success: '#00ff88',
              }
            },
            animation: {
              'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'bounce-slow': 'bounce 3s infinite',
              'float': 'float 3s ease-in-out infinite',
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-10px)' },
              }
            }
          }
        }
      }
    </script>
    <style>
        body { background-color: #050505; color: white; -webkit-tap-highlight-color: transparent; }
        .clip-path-diagonal { clip-path: polygon(0 0, 100% 0, 100% 85%, 0% 100%); }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        
        /* Smooth Scrolling */
        html { scroll-behavior: smooth; }
        
        .glow-effect {
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
        }
        
        .selected-card {
            border-color: #00f2ff !important;
            box-shadow: 0 0 20px rgba(0, 242, 255, 0.4);
            transform: scale(1.02);
        }

        /* Stock Pulse Animation */
        @keyframes stockPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }
        .dot-pulse { animation: stockPulse 2s infinite; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.4",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body class="font-cairo antialiased pb-20 overflow-x-hidden">

    <!-- 1. URGENCY STICKY HEADER -->
    <div class="sticky top-0 z-50 bg-black/90 backdrop-blur-md border-b border-white/10 shadow-lg">
        <div class="max-w-md mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2 text-xs font-bold text-white">
                <i class="fas fa-shipping-fast text-brand-success"></i>
                <span>ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø¹Ø±Ø§Ù‚</span>
            </div>
            <div class="flex items-center gap-2 font-orbitron font-black text-brand-danger animate-pulse">
                <span id="timer" class="text-sm tracking-widest">15:00</span>
                <i class="far fa-clock"></i>
            </div>
        </div>
        <!-- Progress Bar -->
        <div class="w-full h-1 bg-gray-800">
            <div id="progress-bar" class="h-full bg-gradient-to-r from-brand-danger to-brand-purple transition-all duration-1000" style="width: 100%"></div>
        </div>
    </div>

    <main class="max-w-md mx-auto px-4 pt-6 relative">
        
        <!-- BRAND HEADER -->
        <div class="text-center mb-8 relative">
            <h1 class="font-orbitron text-5xl font-black tracking-[0.2em] text-white mb-2 inline-block relative">
                viZion
                <div class="absolute -top-2 -right-4 w-3 h-3 bg-brand-accent rounded-full animate-ping"></div>
            </h1>
            <p class="text-gray-400 text-[10px] tracking-[0.3em] uppercase opacity-70">Future Wear // Limited Edition</p>
        </div>

        <!-- HERO OFFER -->
        <div class="relative rounded-3xl overflow-hidden mb-8 p-[1px] bg-gradient-to-br from-brand-danger via-brand-purple to-brand-accent animate-pulse-fast">
            <div class="bg-brand-dark rounded-[23px] p-6 text-center relative overflow-hidden">
                <div class="absolute top-0 right-0 w-32 h-32 bg-brand-purple/20 blur-[50px] rounded-full pointer-events-none"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-brand-accent/20 blur-[50px] rounded-full pointer-events-none"></div>
                
                <h2 class="text-2xl font-black text-white mb-2 relative z-10">Ø§Ù„Ø®ØµÙ… Ø§Ù„Ø£Ù‚ÙˆÙ‰ Ù„Ù„Ù…ÙˆØ³Ù… ğŸ”¥</h2>
                <p class="text-gray-300 text-xs font-bold relative z-10 leading-relaxed">
                    Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù‡ÙˆØ¯ÙŠ viZion Ø¨Ø®ØµÙ… <span class="text-brand-accent text-base">10,000 Ø¯ÙŠÙ†Ø§Ø±</span>
                </p>
            </div>
        </div>

        <!-- PRODUCT GRID -->
        <div class="grid grid-cols-2 gap-4 mb-10" id="product-grid">
            <!-- Products will be injected by JS -->
        </div>

        <!-- CHECKOUT FORM (Hidden initially styled) -->
        <div id="checkout-section" class="bg-white text-black rounded-[2rem] p-6 shadow-2xl relative overflow-hidden transform transition-all duration-500 translate-y-10 opacity-50 grayscale hover:grayscale-0 hover:opacity-100 hover:translate-y-0">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-brand-danger via-brand-purple to-brand-accent"></div>
            
            <!-- Price Block -->
            <div class="text-center mb-6 bg-red-50 border-2 border-dashed border-red-200 rounded-2xl p-4">
                <div class="flex flex-col items-center">
                    <span class="text-gray-400 font-bold line-through text-lg font-orbitron">35,000 IQD</span>
                    <span class="text-4xl font-black font-orbitron my-1 tracking-tighter">25,000</span>
                    <span class="text-[10px] font-bold bg-black text-white px-2 py-1 rounded">ÙˆÙØ±Øª 10,000 Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„ÙŠÙˆÙ…</span>
                </div>
            </div>

            <h3 class="font-black text-2xl mb-2 text-center">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø¬Ø²</h3>
            
            <form id="orderForm" action="https://formspree.io/f/mjgonzyw" method="POST" class="space-y-3">
                <input type="hidden" name="Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„" id="hidden-model">
                
                <!-- Model Preview -->
                <div id="model-preview" class="hidden bg-gray-100 p-3 rounded-xl border border-gray-200 flex items-center gap-3">
                    <img id="preview-img" src="" class="w-12 h-12 rounded-lg object-cover">
                    <div>
                        <div class="text-[10px] text-gray-500 font-bold">Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…Ø®ØªØ§Ø±</div>
                        <div id="preview-name" class="font-orbitron font-black text-lg leading-none"></div>
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold mb-1 text-gray-700">Ø§Ø®ØªØ± Ø§Ù„Ù‚ÙŠØ§Ø³</label>
                    <div class="relative">
                        <select name="Ø§Ù„Ù‚ÙŠØ§Ø³" class="w-full bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-orbitron font-bold outline-none appearance-none" required>
                            <option value="M">M (Oversize)</option>
                            <option value="L">L (Oversize)</option>
                            <option value="XL">XL (Oversize)</option>
                            <option value="XXL">XXL (Oversize)</option>
                        </select>
                        <i class="fas fa-chevron-down absolute left-4 top-4 text-gray-400 pointer-events-none"></i>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-3">
                    <input type="text" name="Ø§Ù„Ø§Ø³Ù…" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ" class="w-full bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-bold outline-none transition-colors" required>
                    <input type="tel" name="Ø§Ù„Ù‡Ø§ØªÙ" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (07...)" class="w-full bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-bold outline-none transition-colors dir-ltr text-right" style="direction: ltr;" required>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <input type="text" name="Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©" placeholder="Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©" class="bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-bold outline-none" required>
                    <input type="text" name="Ø§Ù„Ù…Ù†Ø·Ù‚Ø©" placeholder="Ø§Ù„Ù…Ù†Ø·Ù‚Ø©" class="bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-bold outline-none" required>
                </div>
                
                <input type="text" name="Ù†Ù‚Ø·Ø©_Ø¯Ø§Ù„Ø©" placeholder="Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø© Ø¯Ø§Ù„Ø©" class="w-full bg-gray-100 border-2 border-transparent focus:border-black rounded-xl p-3 font-bold outline-none" required>

                <button type="submit" class="w-full bg-black text-white font-black text-lg py-4 rounded-xl shadow-xl hover:bg-gray-800 transform hover:-translate-y-1 transition-all flex items-center justify-center gap-2 mt-4">
                    <span>ØªØ«Ø¨ÙŠØª Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</span>
                    <i class="fas fa-arrow-left"></i>
                </button>
                
                <p class="text-center text-[10px] text-gray-500 font-bold flex items-center justify-center gap-1 mt-2">
                    <i class="fas fa-shield-alt text-brand-success"></i>
                    Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… - Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© 100%
                </p>
            </form>
        </div>
    </main>

    <!-- CONFIRMATION MODAL -->
    <div id="modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 bg-black/90 backdrop-blur-sm">
        <div class="bg-white rounded-3xl max-w-sm w-full p-6 text-center relative overflow-hidden animate-bounce-slow">
            <div class="absolute top-0 left-0 w-full h-1 bg-brand-success"></div>
            
            <div class="w-16 h-16 bg-black text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl shadow-xl">
               <i class="fas fa-check"></i>
            </div>

            <h3 class="font-black text-xl text-black mb-2">ØªØ£ÙƒÙŠØ¯ Ø£Ø®ÙŠØ±!</h3>
            <p class="text-gray-600 font-bold mb-4 text-xs">Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù‚ÙŠØ§Ø³.</p>

            <div class="bg-red-50 border border-red-100 rounded-xl p-3 mb-5 text-right">
                <div class="flex items-start gap-2">
                    <i class="fas fa-exclamation-circle text-red-500 mt-1"></i>
                    <p class="text-red-700 text-[10px] font-bold leading-relaxed">
                        Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù…ØªØ¬Ø±: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨Ø¹Ø¯ ØªØ«Ø¨ÙŠØª Ø§Ù„Ø·Ù„Ø¨ Ø¥Ù„Ø§ ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø¹ÙŠØ¨ Ù…ØµÙ†Ø¹ÙŠ. (Ø§Ù„Ù‚Ø·Ø¹ Oversize).
                    </p>
                </div>
            </div>

            <button onclick="finalSubmit()" class="w-full bg-brand-success text-black font-black py-3 rounded-xl text-lg shadow-lg hover:bg-green-400 transition-colors mb-2">
                Ù†Ø¹Ù…ØŒ Ø§Ø¹ØªÙ…Ø¯ Ø§Ù„Ø·Ù„Ø¨
            </button>
            <button onclick="closeModal()" class="w-full bg-transparent text-gray-400 font-bold py-2 text-xs hover:text-black">
                Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            </button>
        </div>
    </div>

    <!-- SALES TOAST -->
    <div id="toast" class="fixed bottom-4 left-4 z-40 transform translate-y-20 opacity-0 transition-all duration-500">
        <div class="bg-white/10 backdrop-blur-md border border-white/20 text-white px-4 py-3 rounded-xl shadow-2xl flex items-center gap-3 max-w-[280px]">
            <div class="w-8 h-8 rounded-full bg-brand-success flex items-center justify-center text-black font-bold text-xs shrink-0">
                <i class="fas fa-shopping-bag"></i>
            </div>
            <div class="text-[10px] text-right">
                <p class="font-bold">Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† <span class="text-brand-accent" id="toast-name"></span></p>
                <p class="text-gray-400">Ù…Ù† <span id="toast-city"></span> Ù‚Ø¨Ù„ Ø¯Ù‚ÙŠÙ‚Ø©</p>
            </div>
        </div>
    </div>

    <script>
        // --- DATA & CONFIG ---
        const products = [
            { id: 'VILLIAN', name: 'VILLIAN', img: 'https://i.imgur.com/5r8uhtH.jpg', stock: 3 },
            { id: 'BERSERK', name: 'BERSERK', img: 'https://i.imgur.com/u5ETI2z.jpg', stock: 7 },
            { id: 'SNAKE', name: 'SNAKE', img: 'https://i.imgur.com/8RSXqzw.jpg', stock: 2 },
            { id: 'GREEK', name: 'GREEK', img: 'https://i.imgur.com/hRoUcRo.jpg', stock: 5 },
            { id: 'VILLIAN_V2', name: 'VILLIAN V2', img: 'https://i.imgur.com/VcQUhcA.jpg', stock: 4 },
        ];

        // --- RENDER PRODUCTS ---
        const grid = document.getElementById('product-grid');
        products.forEach(p => {
            const el = document.createElement('div');
            el.className = `product-card relative group cursor-pointer rounded-2xl overflow-hidden border border-white/10 bg-brand-dark transition-all duration-300`;
            el.onclick = () => selectProduct(p, el);
            el.innerHTML = `
                <div class="absolute top-2 right-2 z-20 bg-brand-success text-black text-[9px] font-black px-2 py-1 rounded-full shadow-lg">SAVE 10K</div>
                <div class="aspect-square w-full relative overflow-hidden">
                    <img src="${p.img}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                    <div class="absolute bottom-2 left-2 right-2">
                        <div class="backdrop-blur-md bg-black/60 border border-white/10 rounded-lg p-1.5 flex items-center justify-between">
                            <div class="flex items-center gap-1.5">
                                <span class="block w-1.5 h-1.5 rounded-full bg-green-500 dot-pulse"></span>
                                <span class="text-[9px] font-bold text-gray-200">Ù…ØªÙˆÙØ±:</span>
                            </div>
                            <span class="text-[10px] font-orbitron font-bold text-white stock-counter" id="stock-${p.id}">${p.stock}</span>
                        </div>
                    </div>
                </div>
                <div class="text-center py-2 font-orbitron font-bold text-xs bg-neutral-900 text-white transition-colors name-plate">${p.name}</div>
            `;
            grid.appendChild(el);
        });

        // --- LOGIC: SELECTION ---
        function selectProduct(product, element) {
            // Remove active state from all
            document.querySelectorAll('.product-card').forEach(c => {
                c.classList.remove('selected-card');
                c.querySelector('.name-plate').classList.remove('bg-brand-accent', 'text-black');
                c.querySelector('.name-plate').classList.add('bg-neutral-900', 'text-white');
            });

            // Add active state
            element.classList.add('selected-card');
            const plate = element.querySelector('.name-plate');
            plate.classList.remove('bg-neutral-900', 'text-white');
            plate.classList.add('bg-brand-accent', 'text-black');

            // Update Form
            const formSection = document.getElementById('checkout-section');
            formSection.classList.remove('opacity-50', 'grayscale', 'translate-y-10');
            formSection.classList.add('opacity-100', 'grayscale-0', 'translate-y-0');
            
            document.getElementById('hidden-model').value = product.name;
            document.getElementById('preview-img').src = product.img;
            document.getElementById('preview-name').innerText = product.name;
            document.getElementById('model-preview').classList.remove('hidden');

            // Scroll
            formSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // --- LOGIC: TIMER ---
        let time = 900; // 15 mins
        setInterval(() => {
            if (time > 0) {
                time--;
                const m = Math.floor(time / 60);
                const s = time % 60;
                document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                document.getElementById('progress-bar').style.width = `${(time/900)*100}%`;
            }
        }, 1000);

        // --- LOGIC: FAKE STOCK DEPLETION ---
        setInterval(() => {
            const randomIdx = Math.floor(Math.random() * products.length);
            const p = products[randomIdx];
            const el = document.getElementById(`stock-${p.id}`);
            let current = parseInt(el.innerText);
            if (current > 1) {
                el.innerText = current - 1;
                el.classList.add('text-brand-danger');
                setTimeout(() => el.classList.remove('text-brand-danger'), 500);
            }
        }, 8000);

        // --- LOGIC: TOAST ---
        const cities = ['Ø¨ØºØ¯Ø§Ø¯', 'Ø§Ù„Ø¨ØµØ±Ø©', 'Ø§Ø±Ø¨ÙŠÙ„', 'Ø§Ù„Ù†Ø¬Ù', 'ÙƒØ±Ø¨Ù„Ø§Ø¡', 'Ø§Ù„Ù…ÙˆØµÙ„'];
        const names = ['Ø¹Ù„ÙŠ', 'Ù…Ø­Ù…Ø¯', 'Ø£Ø­Ù…Ø¯', 'Ø­Ø³ÙŠÙ†', 'ÙŠÙˆØ³Ù', 'Ø­Ø³Ù†', 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡'];
        
        function showToast() {
            const t = document.getElementById('toast');
            document.getElementById('toast-name').innerText = names[Math.floor(Math.random() * names.length)];
            document.getElementById('toast-city').innerText = cities[Math.floor(Math.random() * cities.length)];
            
            t.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                t.classList.add('translate-y-20', 'opacity-0');
            }, 4000);
            
            setTimeout(showToast, Math.random() * 10000 + 10000);
        }
        setTimeout(showToast, 3000);

        // --- LOGIC: MODAL & SUBMIT ---
        const form = document.getElementById('orderForm');
        const modal = document.getElementById('modal');
        
        form.onsubmit = (e) => {
            e.preventDefault();
            if(!document.getElementById('hidden-model').value) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¯ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            modal.style.display = 'flex';
        };

        function closeModal() {
            modal.style.display = 'none';
        }

        function finalSubmit() {
            const btn = document.querySelector('#modal button');
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ«Ø¨ÙŠØª...';
            form.submit();
        }
    </script>
</body>
</html>

